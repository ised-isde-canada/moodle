pipeline {
	agent {
		label 'maven'
   	}
   	
    options {
        disableConcurrentBuilds()
    }
    
   	environment {
		// GLobal Vars
		OPENSHIFT_PROJECT = "learning-dev"
		IMAGE_NAME = "learning-moodle"
		DEPLOY_PIPELINE_NAME = "learning-moodle-deploy"
    }
    
    stages {
    	stage('release') {
			steps {
				script{
					release.releaseGeneric("${OPENSHIFT_PROJECT}", "${DEPLOY_PIPELINE_NAME}", "${IMAGE_NAME}")
		    	}
			}
    	}
    }
}